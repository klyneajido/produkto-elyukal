version: "3.1"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - mood_great
  - mood_unhappy
  - bot_challenge
  - ask_products_by_municipality
  - ask_municipality_by_product
  - ask_product_price
  - ask_product_availability
  - ask_product_details
  - out_of_scope

entities:
  - municipality
  - product

slots:
  municipality:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: municipality
  product:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: product
  requested_slot:
    type: any
    influence_conversation: false
    mappings:
      - type: from_text

forms:
  municipality_form:
    required_slots:
      - municipality
  product_location_form:
    required_slots:
      - product
  product_price_form:
    required_slots:
      - product
  product_availability_form:
    required_slots:
      - product
  product_details_form:
    required_slots:
      - product

actions:
  - utter_greet
  - utter_goodbye
  - utter_happy
  - utter_cheer_up
  - utter_did_that_help
  - utter_iamabot
  - utter_ask_product_location
  - utter_ask_product_name
  - utter_product_price_disclaimer
  - utter_product_availability_info
  - utter_out_of_scope
  - utter_fallback
  - action_fetch_products_by_municipality
  - action_find_municipality_by_product
  - action_get_product_price
  - action_get_product_availability
  - action_provide_product_details
  - action_default_fallback
  - validate_municipality_form
  - validate_product_location_form
  - validate_product_price_form
  - validate_product_availability_form
  - validate_product_details_form

responses:
  utter_greet:
    - text: "Hello! How can I help you explore La Union's local products today?"
  utter_goodbye:
    - text: "Goodbye! Come back anytime to learn more about our local gems."
  utter_happy:
    - text: "Great to hear you're doing well!"
  utter_cheer_up:
    - text: "Sorry you're feeling down. How about checking out some cool products from San Juan to lift your spirits?"
  utter_did_that_help:
    - text: "Did that brighten your day a bit?"
  utter_iamabot:
    - text: "I'm a bot, built to guide you through La Union's best offerings!"
  utter_ask_product_location:
    - text: "Which municipality are you curious about? Try San Juan, Agoo, or San Fernando!"
  utter_ask_product_name:
    - text: "What product are you interested in? Maybe Coffee Beans or Handwoven Bags?"
  utter_product_price_disclaimer:
    - text: "Just a heads-up, prices can shift depending on the season or vendor."
  utter_product_availability_info:
    - text: "Availability variesâ€”some items are seasonal, others are year-round."
  utter_out_of_scope:
    - text: "I'm not sure about that one. Want to talk about local crafts or food instead?"
  utter_fallback:
    - text: "Oops, I didn't catch that. Could you rephrase it for me?"
  utter_ask_municipality:
    - text: "Which municipality are you looking for? San Juan, Agoo, or San Fernando perhaps?"
  utter_ask_product:
    - text: "Which product are you interested in? We have Coffee Beans, Pottery, and more!"

session_config:
  session_expiration_time: 60  # Time in minutes before a session expires
  carry_over_slots_to_new_session: true  # Carry slots like 'municipality' or 'product' to new sessions